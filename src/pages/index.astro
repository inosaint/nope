---
import BaseLayout from '../layouts/BaseLayout.astro';
import PortfolioItem from '../components/PortfolioItem.astro';
import VolunteerItem from '../components/VolunteerItem.astro';
import Modal from '../components/Modal.astro';
import '../styles/global.css';
---

<BaseLayout title="Noopur">
  <main>
    <div class="container">
      <div class="content-grid">
        <!-- Main Content -->
        <div class="main-content">
          <!-- Hero -->
          <section class="hero">
            <h1>Noopur</h1>
            <div class="bio">
              <p>
               I enjoy working with people and building products. I am interested in understanding complex business problems and finding solutions.
              </p>
              <p>
                In my work, I focus on bringing creativity and thoughtfulness to every project.
                I believe in the power of good design to make a real difference in people's lives.
              </p>
            </div>
          </section>

          <!-- Work Section -->
          <section class="work-section">
            <h2>Work</h2>
            <div class="portfolio">
                <PortfolioItem
                  date="December 2024"
                  title="Latest Project"
                  description="A recent project showcasing innovative design and user experience work. This project pushed boundaries and explored new possibilities in digital design."
                  link="https://example.com"
                  images={[{ src: 'https://placehold.co/800x600/e5e7eb/666666?text=Project+Image', alt: 'Latest Project' }]}
                />

                <PortfolioItem
                  date="November 2024"
                  title="Design Workshop"
                  description="Facilitated a workshop on creative problem-solving and design thinking. Helped teams unlock new ways of approaching complex challenges."
                  images={[
                    { src: 'https://placehold.co/800x600/e5e7eb/666666?text=Workshop+1', alt: 'Design Workshop' },
                    { src: 'https://placehold.co/800x600/e5e7eb/666666?text=Workshop+2', alt: 'Design Workshop' }
                  ]}
                  layout="double"
                />

                <PortfolioItem
                  date="October 2024"
                  title="Product Launch"
                  description="Led the design for a new product launch. Focused on creating an intuitive experience that delights users from their first interaction."
                  link="https://example.com"
                  images={[{ src: 'https://placehold.co/800x600/e5e7eb/666666?text=Product+Launch', alt: 'Product Launch' }]}
                />

                <PortfolioItem
                  date="September 2024"
                  title="Speaking Engagement"
                  description="Gave a talk about the intersection of creativity and technology. Shared insights on building products with joy and intention."
                  link="https://example.com"
                  images={[
                    { src: 'https://placehold.co/800x600/e5e7eb/666666?text=Speaking+1', alt: 'Speaking Engagement' },
                    { src: 'https://placehold.co/800x600/e5e7eb/666666?text=Speaking+2', alt: 'Speaking Engagement' }
                  ]}
                  layout="double"
                />

                <PortfolioItem
                  date="August 2024"
                  title="Community Initiative"
                  description="Started a community initiative to bring together designers and creators. Building spaces for collaboration and shared learning."
                  images={[{ src: 'https://placehold.co/800x600/e5e7eb/666666?text=Community', alt: 'Community Initiative' }]}
                />

                <PortfolioItem
                  date="July 2024"
                  title="Design System"
                  description="Built a comprehensive design system to improve consistency and efficiency. Created reusable components that scale across platforms."
                  link="https://example.com"
                  images={[{ src: 'https://placehold.co/800x600/e5e7eb/666666?text=Design+System', alt: 'Design System' }]}
                />
              </div>
          </section>

          <!-- Volunteer Section -->
          <section class="volunteer-section">
            <h2>Volunteer</h2>
            <div class="volunteer">
                <VolunteerItem
                  title="Designer"
                  organization="DataKind"
                  dates="2015 - 2017"
                  duration="2 years"
                />

                <VolunteerItem
                  title="Cartographer"
                  organization="Humanitarian OpenStreetMap Team"
                  dates="Apr 2015 - Jun 2015"
                  duration="3 months"
                  category="Disaster and Humanitarian Relief"
                />

                <VolunteerItem
                  title="Information Designer"
                  organization="Compassion Unlimited Plus Action - India"
                  dates="Oct 2020 - Mar 2021"
                  duration="6 months"
                  category="Animal Welfare"
                  description="Design for CUPA annual report"
                />
            </div>
          </section>
        </div>

        <!-- Sidebar (empty for now) -->
        <aside class="sidebar">
        </aside>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <div class="footer-content">
        <nav class="social-links">
          <a href="https://instagram.com/9porcupine" target="_blank" rel="noopener noreferrer">Instagram</a>
          <span>/</span>
          <a href="https://twitter.com/9porcupine" target="_blank" rel="noopener noreferrer">Twitter</a>
          <span>/</span>
          <a href="https://in.linkedin.com/in/noopurvarma" target="_blank" rel="noopener noreferrer">LinkedIn</a>
          <span>/</span>
          <a href="/resume.pdf" target="_blank" rel="noopener noreferrer">Resume</a>
        </nav>

        <div class="footer-right">
          <button id="theme-toggle" type="button" aria-label="Select theme">
            <span class="material-symbols-outlined theme-icon">light_mode</span>
          </button>
        </div>
      </div>
    </footer>

    <!-- Theme Modal -->
    <Modal id="theme-modal" title="Select Theme">
      <div class="theme-grid">
        <button data-theme="sunflowers" class="theme-card active">
          <div class="theme-preview">
            <img src="/assets/sunflowers.jpg" alt="Sunflowers" />
          </div>
          <span class="theme-name">Sunflowers</span>
        </button>
        <button data-theme="starry-night" class="theme-card">
          <div class="theme-preview">
            <img src="/assets/starry-night.jpg" alt="Starry Night" />
          </div>
          <span class="theme-name">Starry Night</span>
        </button>
      </div>
    </Modal>

    <!-- Colophon Modal -->
    <Modal id="colophon-modal" title="Colophon">
      <div class="colophon-content">
        <p>This portfolio site is built with modern web technologies, focusing on performance, accessibility, and clean design.</p>

        <h4>Technology Stack</h4>
        <ul class="tech-list">
          <li><strong>Astro</strong> â€” Static site generator for lightning-fast performance</li>
          <li><strong>TypeScript</strong> â€” Type-safe development</li>
          <li><strong>Custom CSS</strong> â€” ~400 lines of clean, maintainable styles</li>
          <li><strong>Google Fonts</strong> â€” Anek Latin typography</li>
        </ul>

        <h4>Design Inspiration</h4>
        <p>The Van Gogh-inspired themes pay homage to two masterpieces:</p>
        <ul class="tech-list">
          <li><strong>Sunflowers</strong> (1888) â€” Light theme with vibrant yellows and warm tones</li>
          <li><strong>Starry Night</strong> (1889) â€” Dark theme with swirling blues and golden stars</li>
        </ul>

        <h4>Features</h4>
        <ul class="tech-list">
          <li>âœ¨ No framework bloat â€” Pure semantic HTML</li>
          <li>ðŸŽ¨ Animated watercolor backgrounds</li>
          <li>ðŸ“± Fully responsive (360px to desktop)</li>
          <li>â™¿ WCAG-compliant color contrasts</li>
          <li>âš¡ Optimized for performance</li>
        </ul>
      </div>
    </Modal>
  </main>
</BaseLayout>

<script>
  // Modal utilities
  function openModal(modalId: string) {
    const modal = document.getElementById(modalId);
    modal?.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
  }

  function closeModal(modalId: string) {
    const modal = document.getElementById(modalId);
    modal?.classList.add('hidden');
    document.body.style.overflow = '';
  }

  // Theme management
  const savedTheme = localStorage.getItem('site-theme') || 'sunflowers';
  document.documentElement.setAttribute('data-theme', savedTheme);

  // Update theme icon based on current theme
  function updateThemeIcon(theme: string) {
    const icon = document.querySelector('#theme-toggle .theme-icon');
    if (icon) {
      icon.textContent = theme === 'sunflowers' ? 'light_mode' : 'dark_mode';
    }
  }

  // Update active theme card
  function updateActiveTheme(theme: string) {
    document.querySelectorAll('.theme-card').forEach(card => {
      card.classList.toggle('active', card.getAttribute('data-theme') === theme);
    });
    updateThemeIcon(theme);
  }
  updateActiveTheme(savedTheme);

  // Theme toggle button
  document.getElementById('theme-toggle')?.addEventListener('click', () => {
    openModal('theme-modal');
  });

  // Close modal buttons
  document.querySelectorAll('.modal-close').forEach(btn => {
    btn.addEventListener('click', function(this: HTMLElement) {
      const modal = this.closest('.modal');
      if (modal) {
        closeModal(modal.id);
      }
    });
  });

  // Close modal on overlay click
  document.querySelectorAll('.modal-overlay').forEach(overlay => {
    overlay.addEventListener('click', function(this: HTMLElement) {
      const modal = this.closest('.modal');
      if (modal) {
        closeModal(modal.id);
      }
    });
  });

  // Theme selection
  document.querySelectorAll('.theme-card').forEach(card => {
    card.addEventListener('click', function(this: HTMLElement) {
      const theme = this.getAttribute('data-theme');
      if (theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('site-theme', theme);
        updateActiveTheme(theme);
        closeModal('theme-modal');
      }
    });
  });

  // ESC key to close modals
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      document.querySelectorAll('.modal:not(.hidden)').forEach(modal => {
        closeModal(modal.id);
      });
    }
  });
</script>
