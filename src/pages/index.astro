---
import BaseLayout from '../layouts/BaseLayout.astro';
import PortfolioItem from '../components/PortfolioItem.astro';
import VolunteerItem from '../components/VolunteerItem.astro';
import Modal from '../components/Modal.astro';
import '../styles/global.css';
---

<BaseLayout title="Noopur">
  <main>
    <div class="container">
      <div class="content-grid">
        <!-- Main Content -->
        <div class="main-content">
          <!-- Hero -->
          <section class="hero">
            <h1>Noopur</h1>
            <div class="bio">
              <p>
               I enjoy working with people and building products. I am interested in understanding complex business problems and finding solutions.
              </p>
              <p>
                In my work, I focus on bringing creativity and thoughtfulness to every project.
                I believe in the power of good design to make a real difference in people's lives.
              </p>
            </div>
          </section>

          <!-- Work Section -->
          <section class="work-section">
            <h2>Work</h2>
            <div class="portfolio">

              <PortfolioItem
                  date="2025-Present"
                  title="Project Tech4Dev"
                  description="Currently working on building tools for the non-profit sector"
                />


                <PortfolioItem
                  date="2023-25"
                  title="3SidedCoin"
                  description="Worked with 3SidedCoin as a consultant on various projects"
                />

                <PortfolioItem
                  date="2021-23"
                  title="Consulting"
                  description="Worked as a consultant on various projects"
                />


                <PortfolioItem
                  date="2021"
                  title="NavGurukul"
                  description="In this recent project, I work with a non profit helping them move their earlier in-situ pedagogy to the virtual classroom. The non profit teaches students from humble backgrounds via an intensive one-year course to learn Python, Javascript, Node.js, English and communication skills so they can be prepared for the industry."
                  images={[
                    { src: '/assets/meraki-1.png', alt: 'NavGurukul Meraki' },
                    { src: '/assets/meraki-2.png', alt: 'NavGurukul Meraki' }
                  ]}
                  layout="double"
                />


                <PortfolioItem
                  date="2018-2020"
                  title="Gojek Chat"
                  description="From 2017-2020, I was part of the Platform team at Gojek where I was the product designer working on their chat platform.  I was also involved in working with different product teams to adopt chat for their usecases. Gojek created an ad to popularize it."
                  images={[
                    { src: '/assets/gojekchat-1.png', alt: 'Gojek Chat' },
                    { src: '/assets/gojekchat-2.png', alt: 'Gojek Chat' }
                  ]}
                  layout="double"
                />

                <PortfolioItem
                  date="2017-2018"
                  title="Gojek 3.0"
                  description="I was part of the team that worked on building this feature which let consumers customize their grid of apps. This project was part of the Gojek 3.0 redesign. Gojek created ads to popularize this feature release to its users."
                  images={[
                    { src: '/assets/gojek-1.png', alt: 'Gojek Home' },
                    { src: '/assets/gojek-2.png', alt: 'Gojek Home' }
                  ]}
                  layout="double"
                />

                <PortfolioItem
                  date="2017"
                  title="OpenCHS"
                  description="This was another interesting product in wellness space. 
                  The app I worked on itâ€™s MVP and defined the style for the same."
                  link="https://uxdesign.cc/designing-for-rural-india-part-1-a0700e705400"
                  images={[
                     { src: '/assets/openCHS.png', alt: 'OpenCHS Dashboard' } ]}
                />


          </section>

          <!-- Talk Section -->
          <section class="work-section">
            <h2>Talk</h2>
            <div class="portfolio">
                <PortfolioItem
                  date="2016"
                  title="Talk"
                  description='In 2016, I gave a talk titled "What I wish I knew as a newbie designer" reflecting on my experiences as a newbie designer at Metarefresh conference 2016'
                  embed='<iframe width="560" height="315" src="https://www.youtube.com/embed/ZzB5-EK4sgQ?si=h_LzcL2VMtll-aHp" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>'
                />
              </div>
          </section>

          <!-- Volunteer Section -->
          <section class="volunteer-section">
            <h2>Volunteer</h2>
            <div class="volunteer">
                <VolunteerItem
                  title="Designer"
                  organization="DataKind"
                  dates="2015 - 2017"
                  duration="2 years"
                />

                <VolunteerItem
                  title="Cartographer"
                  organization="Humanitarian OpenStreetMap Team"
                  dates="Apr 2015 - Jun 2015"
                  duration="3 months"
                  category="Disaster and Humanitarian Relief"
                />

                <VolunteerItem
                  title="Information Designer"
                  organization="Compassion Unlimited Plus Action - India"
                  dates="Oct 2020 - Mar 2021"
                  duration="6 months"
                  category="Animal Welfare"
                  description="Design for CUPA annual report"
                />
            </div>
          </section>
        </div>

        <!-- Sidebar (empty for now) -->
        <aside class="sidebar">
        </aside>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <div class="footer-content">
        <nav class="social-links">
          <a href="https://instagram.com/9porcupine" target="_blank" rel="noopener noreferrer">Instagram</a>
          <span>/</span>
          <a href="https://twitter.com/9porcupine" target="_blank" rel="noopener noreferrer">Twitter</a>
          <span>/</span>
          <a href="https://in.linkedin.com/in/noopurvarma" target="_blank" rel="noopener noreferrer">LinkedIn</a>
          <span>/</span>
          <a href="/resume.pdf" target="_blank" rel="noopener noreferrer">Resume</a>
        </nav>

        <div class="footer-right">
          <button id="theme-toggle" type="button" aria-label="Select theme">
            <span class="material-symbols-outlined theme-icon">light_mode</span>
          </button>
        </div>
      </div>
    </footer>

    <!-- Theme Modal -->
    <Modal id="theme-modal" title="Select Theme">
      <div class="theme-grid">
        <button data-theme="sunflowers" class="theme-card active">
          <div class="theme-preview">
            <img src="/assets/sunflowers.jpg" alt="Sunflowers" />
          </div>
          <span class="theme-name">Sunflowers</span>
        </button>
        <button data-theme="starry-night" class="theme-card">
          <div class="theme-preview">
            <img src="/assets/starry-night.jpg" alt="Starry Night" />
          </div>
          <span class="theme-name">Starry Night</span>
        </button>
      </div>
    </Modal>

    <!-- Colophon Modal -->
    <Modal id="colophon-modal" title="Colophon">
      <div class="colophon-content">
        <p>This portfolio site is built with modern web technologies, focusing on performance, accessibility, and clean design.</p>

        <h4>Technology Stack</h4>
        <ul class="tech-list">
          <li><strong>Astro</strong> â€” Static site generator for lightning-fast performance</li>
          <li><strong>TypeScript</strong> â€” Type-safe development</li>
          <li><strong>Custom CSS</strong> â€” ~400 lines of clean, maintainable styles</li>
          <li><strong>Google Fonts</strong> â€” Anek Latin typography</li>
        </ul>

        <h4>Design Inspiration</h4>
        <p>The Van Gogh-inspired themes pay homage to two masterpieces:</p>
        <ul class="tech-list">
          <li><strong>Sunflowers</strong> (1888) â€” Light theme with vibrant yellows and warm tones</li>
          <li><strong>Starry Night</strong> (1889) â€” Dark theme with swirling blues and golden stars</li>
        </ul>

        <h4>Features</h4>
        <ul class="tech-list">
          <li>âœ¨ No framework bloat â€” Pure semantic HTML</li>
          <li>ðŸŽ¨ Animated watercolor backgrounds</li>
          <li>ðŸ“± Fully responsive (360px to desktop)</li>
          <li>â™¿ WCAG-compliant color contrasts</li>
          <li>âš¡ Optimized for performance</li>
        </ul>
      </div>
    </Modal>
  </main>
</BaseLayout>

<script>
  // Modal utilities
  function openModal(modalId: string) {
    const modal = document.getElementById(modalId);
    modal?.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
  }

  function closeModal(modalId: string) {
    const modal = document.getElementById(modalId);
    modal?.classList.add('hidden');
    document.body.style.overflow = '';
  }

  // Theme management
  const savedTheme = localStorage.getItem('site-theme') || 'sunflowers';
  document.documentElement.setAttribute('data-theme', savedTheme);

  // Update theme icon based on current theme
  function updateThemeIcon(theme: string) {
    const icon = document.querySelector('#theme-toggle .theme-icon');
    if (icon) {
      icon.textContent = theme === 'sunflowers' ? 'light_mode' : 'dark_mode';
    }
  }

  // Update active theme card
  function updateActiveTheme(theme: string) {
    document.querySelectorAll('.theme-card').forEach(card => {
      card.classList.toggle('active', card.getAttribute('data-theme') === theme);
    });
    updateThemeIcon(theme);
  }
  updateActiveTheme(savedTheme);

  // Theme toggle button
  document.getElementById('theme-toggle')?.addEventListener('click', () => {
    openModal('theme-modal');
  });

  // Close modal buttons
  document.querySelectorAll('.modal-close').forEach(btn => {
    btn.addEventListener('click', function(this: HTMLElement) {
      const modal = this.closest('.modal');
      if (modal) {
        closeModal(modal.id);
      }
    });
  });

  // Close modal on overlay click
  document.querySelectorAll('.modal-overlay').forEach(overlay => {
    overlay.addEventListener('click', function(this: HTMLElement) {
      const modal = this.closest('.modal');
      if (modal) {
        closeModal(modal.id);
      }
    });
  });

  // Theme selection
  document.querySelectorAll('.theme-card').forEach(card => {
    card.addEventListener('click', function(this: HTMLElement) {
      const theme = this.getAttribute('data-theme');
      if (theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('site-theme', theme);
        updateActiveTheme(theme);
        closeModal('theme-modal');
      }
    });
  });

  // ESC key to close modals
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      document.querySelectorAll('.modal:not(.hidden)').forEach(modal => {
        closeModal(modal.id);
      });
    }
  });
</script>
